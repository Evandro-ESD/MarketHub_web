<section class="dashboard-wrapper" *ngIf="!carregando; else loadingTpl">
	<h1>Dashboard de Vendas <span *ngIf="nomeUsuario" class="usuario-nome" aria-label="Nome da conta">{{ nomeUsuario }}</span></h1>
	<div class="cards">
		<div class="card">
			<span class="label">Hoje</span>
			<strong>{{ resumo?.totalHoje | currency:'BRL':'symbol':'1.2-2' }}</strong>
			<small>{{ resumo?.pedidosHoje }} pedidos</small>
		</div>
		<div class="card">
			<span class="label">Este Mês</span>
			<strong>{{ resumo?.totalMes | currency:'BRL':'symbol':'1.2-2' }}</strong>
		</div>
		<div class="card">
			<span class="label">Ano</span>
			<strong>{{ resumo?.totalAno | currency:'BRL':'symbol':'1.2-2' }}</strong>
		</div>
		<div class="card destaque">
			<span class="label">Total Geral</span>
			<strong>{{ resumo?.totalGeral | currency:'BRL':'symbol':'1.2-2' }}</strong>
		</div>
	</div>

	<div class="grid-graficos">
		<div class="grafico"><h2>Últimos 7 dias</h2><canvas id="chartDiario"></canvas></div>
		<div class="grafico"><h2>Mensal ({{ anoAtual }})</h2><canvas id="chartMensal"></canvas></div>
		<div class="grafico"><h2>Últimos anos</h2><canvas id="chartAnual"></canvas></div>
		<div class="grafico"><h2>Top Produtos</h2><canvas id="chartTop"></canvas></div>
	</div>
</section>

<ng-template #loadingTpl>
	<div class="loading">Carregando dashboard...</div>
</ng-template>
