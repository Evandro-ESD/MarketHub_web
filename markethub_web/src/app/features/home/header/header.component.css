/* ===== Header Dark Gradient (harmonizado com footer) ===== */
:root {
  --clr-bg:#0d2238;
  --clr-bg-alt:rgba(255,255,255,.09);
  --clr-border:rgba(255,255,255,.18);
  --clr-text:#eef6ff;
  --clr-text-muted:#b9cfde;
  --clr-primary:#0d6efd;
  --clr-primary-soft:rgba(13,110,253,.22);
  --clr-accent:#ff8a2d;
  --clr-accent-soft:rgba(255,138,45,.18);
  --clr-danger:#e63946;
  --radius-sm:6px;
  --radius:16px;
  --shadow-sm:0 2px 4px -1px rgba(0,0,0,.4);
  --shadow:0 8px 26px -10px rgba(0,0,0,.55), 0 4px 14px -8px rgba(0,0,0,.5);
  font-synthesis:none;
}

.header { position:sticky; top:0; z-index:1000; display:flex; align-items:center; justify-content:space-between; padding:14px clamp(16px,4vw,54px); background:linear-gradient(145deg,#0d2238 0%,#132f4f 48%,#174067 100%); border-bottom:1px solid var(--clr-border); box-shadow:var(--shadow); isolation:isolate; }
.header::before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 12% 25%,rgba(255,138,45,.25),transparent 60%), radial-gradient(circle at 85% 70%,rgba(13,110,253,.35),transparent 65%); mix-blend-mode:overlay; opacity:.85; pointer-events:none; }
.header::after { content:""; position:absolute; inset:0; backdrop-filter:blur(6px) saturate(170%); -webkit-backdrop-filter:blur(6px) saturate(170%); pointer-events:none; z-index:-1; }
.header { --clr-text:#eef6ff; --clr-text-muted:#b9cfde; }

/* Logo */
.logo h1 { margin:0; font-size:clamp(1.05rem,1.85vw,1.65rem); font-weight:800; letter-spacing:.6px; display:flex; align-items:center; gap:10px; }
.brand-word { font-weight:800; letter-spacing:.6px; line-height:1; }
.brand-word.market { background:linear-gradient(90deg,#ffffff,#b3d4ff); -webkit-background-clip:text; background-clip:text; color:transparent; }
.brand-word.hub { background:linear-gradient(90deg,#ff8a2d,#ffb366); -webkit-background-clip:text; background-clip:text; color:transparent; margin-left:2px; }
.logo h1::before { display:none; }
.logo-img { width:56px; height:56px; object-fit:contain; filter:drop-shadow(0 2px 8px rgba(0,0,0,.5)); transition:.3s; }

/* Cart badge */
.cart-link-wrapper { position:relative; display:inline-block; }
.cart-badge { position:absolute; top:0; right:0; transform:translate(40%, -40%); background:linear-gradient(135deg,#ff4d4d,#ff8a2d); color:#fff; font-size:.58rem; line-height:1; padding:4px 6px 5px; border-radius:999px; font-weight:700; box-shadow:0 2px 8px -2px rgba(0,0,0,.55), 0 0 0 2px rgba(23,64,103,.6); min-width:20px; text-align:center; letter-spacing:.5px; }

/* Menu */
.menu { display:flex; align-items:center; gap:4px; }
.menu app-link { position:relative; padding:10px 16px; font-size:.78rem; font-weight:600; letter-spacing:.5px; color:var(--clr-text-muted); border-radius: 12px; transition:.45s; isolation:isolate; }
.menu app-link::before { content:""; position:absolute; inset:0; background:linear-gradient(120deg,rgba(255,255,255,.12),rgba(255,255,255,.06)); border:1px solid rgba(255,255,255,.1); border-radius:inherit; opacity:0; transform:scale(.92); transition:.45s; }
.menu app-link:hover { color:#fff; }
.menu app-link:hover::before { opacity:1; transform:scale(1); box-shadow:0 4px 14px -6px rgba(0,0,0,.55); }
.menu app-link.active { color:#fff; }
.menu app-link.active::before { opacity:1; transform:scale(1); background:linear-gradient(135deg,rgba(13,110,253,.55),rgba(255,138,45,.55)); border-color:rgba(255,255,255,.25); box-shadow:0 6px 16px -6px rgba(0,0,0,.65), inset 0 0 0 1px rgba(255,255,255,.12); }
.menu app-link.active::after { content:""; position:absolute; left:18px; right:18px; bottom:6px; height:2px; background:linear-gradient(90deg,var(--clr-primary),var(--clr-accent)); border-radius:2px; box-shadow:0 0 8px -2px rgba(255,138,45,.8); }
.menu app-link:focus-visible { outline:2px solid var(--clr-accent); outline-offset:3px; }

/* User Info */
/* User info pill sem avatar */
.user-info { display:flex; align-items:center; gap:14px; margin-left:24px; padding:6px 18px; background:rgba(255,255,255,.10); border:1px solid rgba(255,255,255,.22); border-radius:40px; box-shadow:0 4px 14px -6px rgba(0,0,0,.55), inset 0 0 0 1px rgba(255,255,255,.10); backdrop-filter:blur(6px) saturate(160%); -webkit-backdrop-filter:blur(6px) saturate(160%); }
.user-info .username { font-size:.78rem; font-weight:600; color:#fff; letter-spacing:.55px; text-transform:capitalize; }

/* Avatar com iniciais */
/* (avatar removido) */

/* Botão menu mobile */
.menu-toggle { display:none; flex-direction:column; gap:5px; background:rgba(255,255,255,.1); border:1px solid rgba(255,255,255,.2); cursor:pointer; padding:8px; border-radius:12px; backdrop-filter:blur(6px); -webkit-backdrop-filter:blur(6px); transition:.35s; }
.menu-toggle span { width:24px; height:2px; background:var(--clr-text); border-radius:2px; transition:.4s; }
.menu-toggle:hover { background:rgba(255,255,255,.2); }
.menu-toggle:focus-visible { outline:2px solid var(--clr-accent); outline-offset:3px; }
.menu-open .menu-toggle span:nth-child(1){ transform: translateY(7px) rotate(45deg); }
.menu-open .menu-toggle span:nth-child(2){ opacity:0; }
.menu-open .menu-toggle span:nth-child(3){ transform: translateY(-7px) rotate(-45deg); }

/* Logout */
.logout-btn { background:linear-gradient(135deg,rgba(255,255,255,.18),rgba(255,255,255,.1)); color:#fff; border:1px solid rgba(255,255,255,.28); padding:8px 20px; font-size:.68rem; font-weight:700; letter-spacing:.8px; border-radius:30px; cursor:pointer; box-shadow:0 2px 8px -2px rgba(0,0,0,.55), inset 0 0 0 1px rgba(255,255,255,.12); transition:.4s; backdrop-filter:blur(6px) saturate(160%); -webkit-backdrop-filter:blur(6px) saturate(160%); text-transform:uppercase; }
.logout-btn:hover { background:linear-gradient(135deg,rgba(13,110,253,.55),rgba(255,138,45,.55)); border-color:rgba(255,255,255,.4); }
.logout-btn:active { transform:translateY(1px); box-shadow:0 1px 4px -1px rgba(0,0,0,.55); }
.logout-btn:focus-visible { outline:2px solid var(--clr-accent); outline-offset:3px; }

/* States / Utility */
@media (max-width: 960px){
  .menu-toggle { display:flex; }
  .menu { position:absolute; left:0; right:0; top:100%; background:linear-gradient(145deg,#0d2238 0%,#132f4f 48%,#174067 100%); padding:14px clamp(16px,4vw,52px) 18px; flex-wrap:wrap; box-shadow:0 14px 36px -14px rgba(0,0,0,.75); border-bottom:1px solid var(--clr-border); transform-origin: top center; animation: fadeSlide .45s ease; backdrop-filter:blur(10px) saturate(170%); -webkit-backdrop-filter:blur(10px) saturate(170%); }
  .menu app-link { flex:1 1 auto; }
  .menu[data-open='false'] { display:none; }
  .user-info { width:100%; justify-content:flex-end; margin-left:0; padding-left:0; border-left:none; margin-top:10px; }
  .user-info .username { display:none; }
}
@keyframes fadeSlide { from { opacity:0; transform:translateY(-10px);} to { opacity:1; transform:translateY(0);} }
@media (max-width:520px){ .logout-btn{ padding:6px 14px;} }
@media (max-width:460px){ .menu { gap:6px; } .menu app-link { padding:8px 12px; } .logout-btn { padding:6px 12px; } .logo h1 { font-size:1.18rem; } .logo-img { width:42px; height:42px; } }

/* Redução de movimento */
@media (prefers-reduced-motion: reduce){
  .menu app-link::before, .menu app-link, .logout-btn, .menu-toggle, .logo h1::before { transition:none !important; transform:none !important; }
  @keyframes fadeSlide { from { opacity:0;} to { opacity:1;} }
}
