<header class="header" [class.menu-open]="menuOpen()">
  <div class="logo">
    <h1><img src="/logo.svg" alt="MarketHub" class="logo-img" /> MarketHub</h1>
  </div>
  <button class="menu-toggle" (click)="toggleMenu()" aria-label="Abrir/fechar menu">
    <span></span><span></span><span></span>
  </button>
  <nav class="menu" [attr.data-open]="menuOpen()">
    <app-link class="md" text="Home" linkRotas="/" [exact]="true"></app-link>
    <app-link class="md" text="Contato" linkRotas="/contato"></app-link>
    <span class="cart-link-wrapper">
      <app-link class="md" text="Carrinho" linkRotas="/carrinho"></app-link>
      @if(carrinho.totalQuantidade() > 0){
        <span class="cart-badge">{{ carrinho.totalQuantidade() }}</span>
      }
    </span>
    @if(!user){
      <app-link class="md" text="Login" linkRotas="/login"></app-link>
      <app-link class="md" text="Cadastre-se" linkRotas="/cadastro"></app-link>
    } @else {
      @if (user.perfil === 'VENDEDOR') {
        <app-link class="md" text="Area Administrativa" linkRotas="/admin/tela-produtos"></app-link>
        <app-link class="md" text="RelatÃ³rio de produtos" linkRotas="/admin/relatorio"></app-link>
      }
      <span class="user-info">
        <span class="username">{{ user.nome }}</span>
        <button class="logout-btn" (click)="logout()">Logout</button>
      </span>
    }
  </nav>
</header>
