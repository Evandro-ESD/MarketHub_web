@if (produtosExibidos.length > 0) {
  <div class="carousel-container" (mouseenter)="pararRotacaoAutomatica()" (mouseleave)="iniciarRotacaoAutomatica()">

    <!-- Slides Principais -->
    <div class="slides-wrapper">
      @for (produto of produtosExibidos; track produto.id; let i = $index) {
        <div class="slide" [class.active]="i === selectedIndex">
          <div class="slide-background" [style.backgroundImage]="'url(' + produto.imageUrl + ')'"></div>
          <div class="slide-content">
            <h2 class="slide-title">{{ produto.titulo }}</h2>
            <p class="slide-description">{{ produto.descricao }}</p>
            <div class="slide-price">{{ produto.preco | currency:'BRL' }}</div>
            <button class="slide-cta" (click)="onAdicionarAoCarrinho(produto)">
              Adicionar ao Carrinho
            </button>
          </div>
        </div>
      }
    </div>

    <!-- Navegação por Miniaturas (Thumbnails) -->
    <div class="thumbnail-container">
      @for (produto of produtosExibidos; track produto.id; let i = $index) {
        <div class="thumbnail" [class.active]="i === selectedIndex" (click)="selecionarProduto(i)">
          <img [src]="produto.imageUrl" [alt]="'Miniatura de ' + produto.titulo">
        </div>
      }
    </div>

    <!-- Botões de Navegação (Opcional, mas bom para usabilidade) -->
    @if (produtosExibidos.length > 1) {
      <button class="nav-button prev" (click)="anterior()">&#10094;</button>
      <button class="nav-button next" (click)="proximo()">&#10095;</button>
    }

  </div>
}
